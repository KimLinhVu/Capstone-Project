{"ast":null,"code":"// Map for localStorage keys\nconst LOCALSTORAGE_KEYS = {\n  accessToken: 'spotify_access_token',\n  refreshToken: 'spotify_refresh_token',\n  expireTime: 'spotify_token_expire_time',\n  timestamp: 'spotify_token_timestamp'\n}; // Map to retrieve localStorage values\n\nconst LOCALSTORAGE_VALUES = {\n  accessToken: window.localStorage.getItem(LOCALSTORAGE_KEYS.accessToken),\n  refreshToken: window.localStorage.getItem(LOCALSTORAGE_KEYS.refreshToken),\n  expireTime: window.localStorage.getItem(LOCALSTORAGE_KEYS.expireTime),\n  timestamp: window.localStorage.getItem(LOCALSTORAGE_KEYS.timestamp)\n};\n\nconst getAccessToken = () => {\n  const queryString = window.location.search;\n  const urlParams = new URLSearchParams(queryString);\n  const queryParams = {\n    [LOCALSTORAGE_KEYS.accessToken]: urlParams.get('access_token'),\n    [LOCALSTORAGE_KEYS.refreshToken]: urlParams.get('refresh_token'),\n    [LOCALSTORAGE_KEYS.expireTime]: urlParams.get('expires_in')\n  };\n  const hasError = urlParams.get('error');\n\n  if (hasError || hasTokenExpired() || LOCALSTORAGE_VALUES.accessToken === 'undefined') {\n    refreshToken();\n  }\n\n  if (LOCALSTORAGE_VALUES.accessToken && LOCALSTORAGE_VALUES.accessToken !== 'undefined') return accessToken;\n};\n\nexport const accessToken = getAccessToken();","map":{"version":3,"names":["LOCALSTORAGE_KEYS","accessToken","refreshToken","expireTime","timestamp","LOCALSTORAGE_VALUES","window","localStorage","getItem","getAccessToken","queryString","location","search","urlParams","URLSearchParams","queryParams","get","hasError","hasTokenExpired"],"sources":["/Users/kimlinh/CodePath/Capstone-Project/client/src/components/Dashboard/spotify.js"],"sourcesContent":["// Map for localStorage keys\nconst LOCALSTORAGE_KEYS = {\n  accessToken: 'spotify_access_token',\n  refreshToken: 'spotify_refresh_token',\n  expireTime: 'spotify_token_expire_time',\n  timestamp: 'spotify_token_timestamp',\n}\n\n// Map to retrieve localStorage values\nconst LOCALSTORAGE_VALUES = {\n  accessToken: window.localStorage.getItem(LOCALSTORAGE_KEYS.accessToken),\n  refreshToken: window.localStorage.getItem(LOCALSTORAGE_KEYS.refreshToken),\n  expireTime: window.localStorage.getItem(LOCALSTORAGE_KEYS.expireTime),\n  timestamp: window.localStorage.getItem(LOCALSTORAGE_KEYS.timestamp),\n};\n\nconst getAccessToken = () => {\n  const queryString = window.location.search\n  const urlParams = new URLSearchParams(queryString)\n  const queryParams = {\n    [LOCALSTORAGE_KEYS.accessToken]: urlParams.get('access_token'),\n    [LOCALSTORAGE_KEYS.refreshToken]: urlParams.get('refresh_token'),\n    [LOCALSTORAGE_KEYS.expireTime]: urlParams.get('expires_in')   \n  }\n  const hasError = urlParams.get('error')\n\n  if (hasError || hasTokenExpired() || LOCALSTORAGE_VALUES.accessToken === 'undefined') {\n    refreshToken()\n  }\n\n  if (LOCALSTORAGE_VALUES.accessToken && LOCALSTORAGE_VALUES.accessToken !== 'undefined')\n\n  return accessToken\n}\n\nexport const accessToken = getAccessToken()"],"mappings":"AAAA;AACA,MAAMA,iBAAiB,GAAG;EACxBC,WAAW,EAAE,sBADW;EAExBC,YAAY,EAAE,uBAFU;EAGxBC,UAAU,EAAE,2BAHY;EAIxBC,SAAS,EAAE;AAJa,CAA1B,C,CAOA;;AACA,MAAMC,mBAAmB,GAAG;EAC1BJ,WAAW,EAAEK,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,iBAAiB,CAACC,WAA9C,CADa;EAE1BC,YAAY,EAAEI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,iBAAiB,CAACE,YAA9C,CAFY;EAG1BC,UAAU,EAAEG,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,iBAAiB,CAACG,UAA9C,CAHc;EAI1BC,SAAS,EAAEE,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,iBAAiB,CAACI,SAA9C;AAJe,CAA5B;;AAOA,MAAMK,cAAc,GAAG,MAAM;EAC3B,MAAMC,WAAW,GAAGJ,MAAM,CAACK,QAAP,CAAgBC,MAApC;EACA,MAAMC,SAAS,GAAG,IAAIC,eAAJ,CAAoBJ,WAApB,CAAlB;EACA,MAAMK,WAAW,GAAG;IAClB,CAACf,iBAAiB,CAACC,WAAnB,GAAiCY,SAAS,CAACG,GAAV,CAAc,cAAd,CADf;IAElB,CAAChB,iBAAiB,CAACE,YAAnB,GAAkCW,SAAS,CAACG,GAAV,CAAc,eAAd,CAFhB;IAGlB,CAAChB,iBAAiB,CAACG,UAAnB,GAAgCU,SAAS,CAACG,GAAV,CAAc,YAAd;EAHd,CAApB;EAKA,MAAMC,QAAQ,GAAGJ,SAAS,CAACG,GAAV,CAAc,OAAd,CAAjB;;EAEA,IAAIC,QAAQ,IAAIC,eAAe,EAA3B,IAAiCb,mBAAmB,CAACJ,WAApB,KAAoC,WAAzE,EAAsF;IACpFC,YAAY;EACb;;EAED,IAAIG,mBAAmB,CAACJ,WAApB,IAAmCI,mBAAmB,CAACJ,WAApB,KAAoC,WAA3E,EAEA,OAAOA,WAAP;AACD,CAjBD;;AAmBA,OAAO,MAAMA,WAAW,GAAGQ,cAAc,EAAlC"},"metadata":{},"sourceType":"module"}