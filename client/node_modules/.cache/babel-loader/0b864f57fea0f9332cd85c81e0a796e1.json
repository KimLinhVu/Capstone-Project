{"ast":null,"code":"var _jsxFileName = \"/Users/kimlinh/CodePath/Capstone-Project/client/src/components/Signup/Signup.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./Signup.css\";\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useJsApiLoader, Autocomplete } from '@react-google-maps/api';\nimport Switch from 'react-switch';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst libraries = ['places'];\n\nfunction Signup(_ref) {\n  _s();\n\n  let {\n    setSignupMessage,\n    signupMessage\n  } = _ref;\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [autocomplete, setAutocomplete] = useState(null);\n  const [place, setPlace] = useState(null);\n  const [privacyChecked, setPrivacyChecked] = useState(false);\n  const navigate = useNavigate();\n  /* set up Google Map Places autocomplete */\n\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n    libraries: libraries\n  });\n  /* clear messages on mount */\n\n  useEffect(() => {\n    setSignupMessage('');\n  }, []);\n\n  if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n\n  const handleOnSubmitSignup = async () => {\n    try {\n      const res = await axios.post('http://localhost:8888/signup', {\n        username: username,\n        password: password,\n        location: place,\n        privacy: privacyChecked\n      });\n      setSignupMessage('Success creating new account');\n      navigate('/login');\n    } catch (e) {\n      setSignupMessage(e.response.data.error.message);\n    }\n  };\n  /* set up city/state autocomplete */\n\n\n  const onLoad = autocomplete => {\n    setAutocomplete(autocomplete);\n  };\n\n  const onPlaceChanged = () => {\n    /* sets place state only if user chooses an autocorrect option */\n    if (autocomplete !== null) {\n      const placeObject = autocomplete.getPlace();\n\n      if (Object.keys(placeObject).length <= 1) {\n        setPlace(null);\n        setSignupMessage('Please enter a valid City/State');\n      } else {\n        setPlace(placeObject);\n      }\n    } else {\n      setPlace(null);\n      setSignupMessage('Please enter a valid City/State');\n    }\n  };\n  /* handle privacy switch */\n\n\n  const handlePrivacySwitch = () => {\n    setPrivacyChecked(!privacyChecked);\n    console.log(privacyChecked);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"user\",\n      placeholder: \"Enter username\",\n      onChange: e => setUsername(e.target.value),\n      value: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      onChange: e => setPassword(e.target.value),\n      value: password,\n      pattern: \"(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\",\n      title: \"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n      types: ['locality'],\n      restrictions: {\n        country: ['us']\n      },\n      onLoad: onLoad,\n      onPlaceChanged: onPlaceChanged,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter your Location (City/State)\",\n        onChange: () => {\n          setPlace(null);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"switch\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Public\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        onChange: handlePrivacySwitch,\n        checked: privacyChecked,\n        className: \"react-switch\",\n        onColor: \"#86d3ff\",\n        onHandleColor: \"#2693e6\",\n        handleDiameter: 30,\n        uncheckedIcon: false,\n        checkedIcon: false,\n        boxShadow: \"0px 1px 5px rgba(0, 0, 0, 0.6)\",\n        activeBoxShadow: \"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\",\n        height: 20,\n        width: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Private\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOnSubmitSignup,\n      disabled: place === null || username === '' || password === '',\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), signupMessage !== '' ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: signupMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 31\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"ydN49+P5+mXlTy6+nYELSzFGl1Q=\", false, function () {\n  return [useNavigate, useJsApiLoader];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useJsApiLoader","Autocomplete","Switch","axios","libraries","Signup","setSignupMessage","signupMessage","username","setUsername","password","setPassword","autocomplete","setAutocomplete","place","setPlace","privacyChecked","setPrivacyChecked","navigate","isLoaded","googleMapsApiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","handleOnSubmitSignup","res","post","location","privacy","e","response","data","error","message","onLoad","onPlaceChanged","placeObject","getPlace","Object","keys","length","handlePrivacySwitch","console","log","target","value","country"],"sources":["/Users/kimlinh/CodePath/Capstone-Project/client/src/components/Signup/Signup.jsx"],"sourcesContent":["import React from 'react'\nimport \"./Signup.css\"\nimport { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useJsApiLoader, Autocomplete } from '@react-google-maps/api'\nimport Switch from 'react-switch'\nimport axios from 'axios'\n\nconst libraries = ['places']\n\nfunction Signup({\n  setSignupMessage,\n  signupMessage\n}) {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [autocomplete, setAutocomplete] = useState(null)\n  const [place, setPlace] = useState(null)\n  const [privacyChecked, setPrivacyChecked] = useState(false)\n  const navigate = useNavigate()\n\n  /* set up Google Map Places autocomplete */\n  const { isLoaded } = useJsApiLoader({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n    libraries: libraries\n  })\n\n  /* clear messages on mount */\n  useEffect(() => {\n    setSignupMessage('')\n  },[])\n\n  if (!isLoaded) {\n    return <h1>Loading</h1>\n  }\n  \n  const handleOnSubmitSignup = async () => {\n    try {\n      const res = await axios.post('http://localhost:8888/signup',\n      {\n        username: username,\n        password: password,\n        location: place,\n        privacy: privacyChecked\n      })\n      setSignupMessage('Success creating new account')\n      navigate('/login')\n    } catch (e) {\n      setSignupMessage(e.response.data.error.message)\n    }\n  }\n\n  /* set up city/state autocomplete */\n  const onLoad = (autocomplete) => {\n    setAutocomplete(autocomplete)\n  }\n\n  const onPlaceChanged = () => {\n    /* sets place state only if user chooses an autocorrect option */\n    if (autocomplete !== null) {\n      const placeObject = autocomplete.getPlace()\n      if (Object.keys(placeObject).length <= 1) {\n        setPlace(null)\n        setSignupMessage('Please enter a valid City/State')\n      } else {\n        setPlace(placeObject)\n      }\n    } else {\n      setPlace(null)\n      setSignupMessage('Please enter a valid City/State')\n    }\n  }\n\n  /* handle privacy switch */\n  const handlePrivacySwitch = () => {\n    setPrivacyChecked(!privacyChecked)\n    console.log(privacyChecked)\n  }\n  \n  return (\n    <div className=\"signup\">\n      <h1>Sign Up</h1>\n      <input \n        type=\"text\" \n        name='user' \n        placeholder='Enter username' \n        onChange={(e) => setUsername(e.target.value)} value={username}/>\n      <input \n        type=\"text\" \n        name='password' \n        placeholder='Enter password' \n        onChange={(e) => setPassword(e.target.value)}\n        value={password}\n        pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\n        title=\"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters\"\n      />\n      <Autocomplete \n        types={['locality']} \n        restrictions={{ country: ['us'] }}\n        onLoad={onLoad}\n        onPlaceChanged={onPlaceChanged}\n      >\n        <input type=\"text\" placeholder='Enter your Location (City/State)' onChange={() => {setPlace(null)}}/>\n      </Autocomplete>\n      <div className=\"switch\">\n        <span>Public</span>\n        <Switch\n          onChange={handlePrivacySwitch}\n          checked={privacyChecked}\n          className=\"react-switch\"\n          onColor=\"#86d3ff\"\n          onHandleColor=\"#2693e6\"\n          handleDiameter={30}\n          uncheckedIcon={false}\n          checkedIcon={false}\n          boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n          activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n          height={20}\n          width={48}\n        />\n        <span>Private</span>\n      </div>\n      <button onClick={handleOnSubmitSignup} disabled={place === null || username === '' || password === ''}>Sign Up</button>\n      {signupMessage !== '' ? <p>{signupMessage}</p> : null}\n    </div>\n  )\n}\n\nexport default Signup"],"mappings":"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"},"metadata":{},"sourceType":"module"}