{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction useAuth(code) {\n  _s();\n\n  const [accessToken, setAccessToken] = useState();\n  useEffect(() => {\n    axios.post(\"http://localhost:3001/spotify/login\", {\n      code\n    }).then(response => {\n      /* cuts code from URL if successful */\n      window.history.pushState({}, null, \"/\");\n      console.log(response.data);\n      setAccessToken(response.data.accessToken);\n    }).catch(err => {\n      /* returns to home page on fail */\n      console.log(err);\n      window.location = \"/\";\n    });\n  }, [code]);\n  return accessToken;\n}\n\n_s(useAuth, \"4vnnAHAL5oPZ5fa4NOg/le6wRV8=\");\n\nexport default useAuth;","map":{"version":3,"names":["useEffect","useState","axios","useAuth","code","accessToken","setAccessToken","post","then","response","window","history","pushState","console","log","data","catch","err","location"],"sources":["/Users/kimlinh/CodePath/Capstone-Project/client/src/components/Dashboard/useAuth.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction useAuth(code) {\n  const [accessToken, setAccessToken] = useState()\n\n  useEffect(() => {\n    axios.post(\"http://localhost:3001/spotify/login\", { code })\n    .then(response => {\n      /* cuts code from URL if successful */\n      window.history.pushState({}, null, \"/\")\n\n      console.log(response.data)\n      setAccessToken(response.data.accessToken)\n    })\n    .catch(err => {\n      /* returns to home page on fail */\n      console.log(err)\n      window.location = \"/\"\n    })\n  }, [code])\n  \n  return accessToken\n}\n\nexport default useAuth\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;EAAA;;EACrB,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,EAA9C;EAEAD,SAAS,CAAC,MAAM;IACdE,KAAK,CAACK,IAAN,CAAW,qCAAX,EAAkD;MAAEH;IAAF,CAAlD,EACCI,IADD,CACMC,QAAQ,IAAI;MAChB;MACAC,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyB,EAAzB,EAA6B,IAA7B,EAAmC,GAAnC;MAEAC,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACM,IAArB;MACAT,cAAc,CAACG,QAAQ,CAACM,IAAT,CAAcV,WAAf,CAAd;IACD,CAPD,EAQCW,KARD,CAQOC,GAAG,IAAI;MACZ;MACAJ,OAAO,CAACC,GAAR,CAAYG,GAAZ;MACAP,MAAM,CAACQ,QAAP,GAAkB,GAAlB;IACD,CAZD;EAaD,CAdQ,EAcN,CAACd,IAAD,CAdM,CAAT;EAgBA,OAAOC,WAAP;AACD;;GApBQF,O;;AAsBT,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}